<app-header *ngIf="author" [loggedAuthor]="author" (friendAdded)="followFriend($event)" ></app-header>

<div class="container">

  <div *ngIf="errorMessage">
    <p>Error: {{ errorMessage }}</p>
  </div>
  
  <div class="vertical-container">
    <div *ngIf="errorMessage">
      <p>Error: {{ errorMessage }}</p>
    </div>

  <app-new-post *ngIf="author" [author]="author" (postAdded)="handlePostAdded($event)"></app-new-post>

  <div class="posts-container">
    <ng-container *ngIf="author">
      <app-post
        *ngFor="let post of posts"
        [loggedAuthor]="author"
        [post]="post"
        (postDeleted)="handlePostDeleted($event)"
        (postUpdated)="handlePostUpdated($event)"
        (newComment)="addCommentToPost($event, post.id)"
        (commentDelete)="deleteComment($event)"
        (updatedComment)="updateComment($event)"
      ></app-post>
    </ng-container>
  </div>
  

</div>

<div class="nav-container">
  <app-side-nav *ngIf="author" [author]="author"></app-side-nav>
</div>
</div>


